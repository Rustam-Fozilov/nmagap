{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'App',\n  data() {\n    return {\n      allMessages: [],\n      message: '',\n      username: ''\n    };\n  },\n  beforeMount() {\n    this.username = prompt('Ismingizni kiriting');\n    this.getAllMessages();\n  },\n  methods: {\n    getAllMessages() {\n      try {\n        axios.get('https://vue-realtime-chat-a5aec-default-rtdb.firebaseio.com/messages.json').then(res => {\n          this.allMessages = Object.keys(res.data).map(key => {\n            return {\n              id: key,\n              ...res.data[key]\n            };\n          });\n          console.log(this.allMessages);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    sendMessage() {\n      try {\n        axios.post('https://vue-realtime-chat-a5aec-default-rtdb.firebaseio.com/messages.json', {\n          text: this.message,\n          username: this.username\n        }).then(res => {\n          this.message = '';\n          this.getAllMessages();\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  watch: {\n    allMessages() {\n      this.getAllMessages();\n    }\n  }\n};","map":{"version":3,"mappings":"AA6BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,KAAK;EAEXC,IAAI,GAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE;IACZ;EACF,CAAC;EAEDC,WAAW,GAAG;IACZ,IAAI,CAACD,QAAO,GAAIE,MAAM,CAAC,qBAAqB;IAE5C,IAAI,CAACC,cAAc,EAAE;EACvB,CAAC;EAEDC,OAAO,EAAE;IACPD,cAAc,GAAG;MACf,IAAI;QACFR,KAAI,CACCU,GAAG,CAAC,2EAA2E,EAC/EC,IAAI,CAAEC,GAAG,IAAK;UACb,IAAI,CAACT,WAAU,GAAIU,MAAM,CAACC,IAAI,CAACF,GAAG,CAACV,IAAI,CAAC,CAACa,GAAG,CAACC,GAAE,IAAK;YAClD,OAAO;cACLC,EAAE,EAAED,GAAG;cACP,GAAGJ,GAAG,CAACV,IAAI,CAACc,GAAG;YACjB;UACF,CAAC;UACDE,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,WAAW;QAC9B,CAAC;MAEP,EAAE,OAAOiB,CAAC,EAAE;QACVF,OAAO,CAACC,GAAG,CAACC,CAAC;MACf;IACF,CAAC;IAEDC,WAAW,GAAG;MACZ,IAAI;QACFrB,KAAI,CACCsB,IAAI,CAAC,2EAA2E,EAAE;UACjFC,IAAI,EAAE,IAAI,CAACnB,OAAO;UAClBC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC,EACAM,IAAI,CAAEC,GAAG,IAAK;UACb,IAAI,CAACR,OAAM,GAAI,EAAC;UAChB,IAAI,CAACI,cAAc,EAAE;QACvB,CAAC;MACP,EAAE,OAAOY,CAAC,EAAE;QACVF,OAAO,CAACC,GAAG,CAACC,CAAC;MACf;IACF;EACF,CAAC;EAEDI,KAAK,EAAE;IACLrB,WAAW,GAAG;MACZ,IAAI,CAACK,cAAc,EAAE;IACvB;EACF;AACF","names":["axios","name","data","allMessages","message","username","beforeMount","prompt","getAllMessages","methods","get","then","res","Object","keys","map","key","id","console","log","e","sendMessage","post","text","watch"],"sourceRoot":"","sources":["C:\\Users\\Rustam\\Desktop\\vue-realtime-chat\\src\\App.vue"],"sourcesContent":["<template>\n  <h1 style=\"text-align: center\">Realtime chat app</h1>\n  <div class=\"wrapper\">\n    <div class=\"chat\">\n      <div class=\"chat-messages\">\n        <div class=\"messages\">\n          <div v-for=\"message in allMessages\" :key=\"message.id\" class=\"message\">\n            <p>{{ message.text }}</p>\n            <div><span>{{ message.username }}</span></div>\n          </div>\n        </div>\n        <form>\n          <textarea\n              @keyup.enter=\"sendMessage\"\n              v-model=\"message\"\n              placeholder=\"Type message...\"\n              class=\"form-control\"\n              rows=\"3\"\n          ></textarea>\n<!--          <button type=\"submit\" class=\"btn-primary\">-->\n<!--            SEND-->\n<!--          </button>-->\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: 'App',\n\n  data() {\n    return {\n      allMessages: [],\n      message: '',\n      username: '',\n    }\n  },\n\n  beforeMount() {\n    this.username = prompt('Ismingizni kiriting')\n\n    this.getAllMessages();\n  },\n\n  methods: {\n    getAllMessages() {\n      try {\n        axios\n            .get('https://vue-realtime-chat-a5aec-default-rtdb.firebaseio.com/messages.json')\n            .then((res) => {\n              this.allMessages = Object.keys(res.data).map(key => {\n                return {\n                  id: key,\n                  ...res.data[key]\n                }\n              })\n              console.log(this.allMessages)\n            })\n\n      } catch (e) {\n        console.log(e)\n      }\n    },\n\n    sendMessage() {\n      try {\n        axios\n            .post('https://vue-realtime-chat-a5aec-default-rtdb.firebaseio.com/messages.json', {\n              text: this.message,\n              username: this.username\n            })\n            .then((res) => {\n              this.message = ''\n              this.getAllMessages();\n            })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n\n  watch: {\n    allMessages() {\n      this.getAllMessages();\n    }\n  }\n}\n</script>\n\n<style>\nhtml,\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n  background-color: #f2f2f5;\n}\n\n.wrapper {\n  max-width: 40%;\n  min-width: 720px;\n  margin: 70px auto;\n}\n\n.chat {\n  background-color: white;\n  border-radius: 20px;\n  padding: 20px;\n  height: 600px;\n}\n\n.chat-messages {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  flex: 1;\n  padding: 30px;\n}\n\n.messages {\n  flex: 1;\n  overflow: auto;\n}\n\n.message {\n  margin-bottom: 20px;\n}\n\n.message p {\n  display: inline-flex;\n  border-radius: 8px;\n  background-color: #f2f2f5;\n  padding: 12px 20px;\n  margin: 0;\n}\n\n.message span {\n  opacity: 0.5;\n  font-size: 14px;\n}\n\n.chat-messages form {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid rgb(200, 200, 200);\n}\n\n.chat-messages form textarea {\n  width: 100%;\n  resize: none;\n  outline: none;\n  border: none;\n  background-color: #f5f5f5;\n  border-radius: 10px;\n  padding: 10px;\n  height: 80px;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  margin-bottom: 30px;\n}\n\n.btn-primary {\n  padding: 12px 35px;\n  margin-top: 10px;\n  border: none;\n  font-size: 16px;\n  border-radius: 10px;\n  background: #151515;\n  color: white;\n  cursor: pointer;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}