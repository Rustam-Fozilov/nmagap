{"ast":null,"code":"import TheTweet from \"@/components/TheTweet\";\nimport axios from \"axios\";\nexport default {\n  name: \"HomeView\",\n  components: {\n    TheTweet\n  },\n  data() {\n    return {\n      allTweets: [],\n      postModal: false,\n      tweetText: '',\n      loading: false,\n      errorText: ''\n    };\n  },\n  created() {\n    this.loadTweets();\n  },\n  methods: {\n    loadTweets() {\n      this.loading = true;\n      try {\n        axios.get('https://vue-mini-twitter-default-rtdb.firebaseio.com/tweets.json').then(res => {\n          this.loading = false;\n          this.allTweets = Object.keys(res.data).map(key => {\n            return {\n              id: key,\n              ...res.data[key]\n            };\n          });\n        });\n      } catch (e) {\n        this.loading = false;\n        console.log(e);\n      }\n    },\n    sendTweet() {\n      const currentDate = new Date();\n      const background = [\"#F1D900\", \"#3CC3EE\", \"#50D93A\", \"#A864DD\", \"#FF3535\", \"#FF7B1C\", \"#3D3D3D\", \"#2F4FF8\", \"#C27A36\", \"#D9D9D9\"];\n      const emojis = [\"emoji-01.png\", \"emoji-02.png\", \"emoji-03.png\", \"emoji-04.png\", \"emoji-05.png\", \"emoji-06.png\", \"emoji-07.png\", \"emoji-08.png\", \"emoji-09.png\", \"emoji-10.png\"];\n      const randomImg = Math.floor(Math.random() * emojis.length);\n      const randomColor = Math.floor(Math.random() * background.length);\n      if (this.tweetText === '') {\n        return this.errorText = 'Please full fill';\n      }\n      try {\n        axios.post('https://vue-mini-twitter-default-rtdb.firebaseio.com/tweets.json', {\n          avatar: {\n            image: emojis[randomImg],\n            color: background[randomColor]\n          },\n          date: currentDate.toLocaleDateString() + ', ' + currentDate.getHours() + ':' + currentDate.getMinutes(),\n          likes: 0,\n          text: this.tweetText,\n          comments: []\n        }).then(res => {\n          this.postModal = false;\n          this.tweetText = '';\n          this.loadTweets();\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AA+BA,OAAOA,QAAO,MAAO,uBAAuB;AAC5C,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IAACH;EAAQ,CAAC;EAEtBI,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,KAAK;MAChBC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,KAAK;MACdC,SAAS,EAAE;IACb;EACF,CAAC;EAEDC,OAAO,GAAG;IACR,IAAI,CAACC,UAAU,EAAC;EAClB,CAAC;EAEDC,OAAO,EAAE;IACPD,UAAU,GAAG;MACX,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,IAAI;QACFP,KAAI,CACCY,GAAG,CAAC,kEAAkE,EACtEC,IAAI,CAAEC,GAAG,IAAK;UACb,IAAI,CAACP,OAAM,GAAI,KAAK;UACpB,IAAI,CAACH,SAAQ,GAAIW,MAAM,CAACC,IAAI,CAACF,GAAG,CAACX,IAAI,CAAC,CAACc,GAAG,CAACC,GAAE,IAAK;YAChD,OAAO;cACLC,EAAE,EAAED,GAAG;cACP,GAAGJ,GAAG,CAACX,IAAI,CAACe,GAAG;YACjB;UACF,CAAC;QACH,CAAC;MAEP,EAAE,OAAOE,CAAC,EAAE;QACV,IAAI,CAACb,OAAM,GAAI,KAAK;QACpBc,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MAChB;IACF,CAAC;IAEDG,SAAS,GAAG;MACV,MAAMC,WAAU,GAAI,IAAIC,IAAI,EAAE;MAE9B,MAAMC,UAAS,GAAI,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;MAChI,MAAMC,MAAK,GAAI,CAAC,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc;MAC9K,MAAMC,SAAQ,GAAIC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAC,GAAIJ,MAAM,CAACK,MAAM,CAAC;MAC3D,MAAMC,WAAU,GAAIJ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAC,GAAIL,UAAU,CAACM,MAAM,CAAC;MAEjE,IAAG,IAAI,CAAC1B,SAAQ,KAAM,EAAE,EAAE;QACxB,OAAO,IAAI,CAACE,SAAQ,GAAI,kBAAiB;MAC3C;MAEA,IAAI;QACFR,KAAI,CACCkC,IAAI,CAAC,kEAAkE,EAAE;UACxEC,MAAM,EAAE;YACNC,KAAK,EAAET,MAAM,CAACC,SAAS,CAAC;YACxBS,KAAK,EAAEX,UAAU,CAACO,WAAW;UAC/B,CAAC;UACDK,IAAI,EAAEd,WAAW,CAACe,kBAAkB,EAAC,GAAI,IAAG,GAAIf,WAAW,CAACgB,QAAQ,EAAC,GAAI,GAAE,GAAIhB,WAAW,CAACiB,UAAU,EAAE;UACvGC,KAAK,EAAE,CAAC;UACRC,IAAI,EAAE,IAAI,CAACrC,SAAS;UACpBsC,QAAQ,EAAE;QACZ,CAAC,EACA/B,IAAI,CAAEC,GAAG,IAAK;UACb,IAAI,CAACT,SAAQ,GAAI,KAAK;UACtB,IAAI,CAACC,SAAQ,GAAI,EAAC;UAClB,IAAI,CAACI,UAAU,EAAC;QAClB,CAAC;MACP,EAAE,OAAOU,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,CAAC;MACf;IACF;EACF;AACF","names":["TheTweet","axios","name","components","data","allTweets","postModal","tweetText","loading","errorText","created","loadTweets","methods","get","then","res","Object","keys","map","key","id","e","console","log","sendTweet","currentDate","Date","background","emojis","randomImg","Math","floor","random","length","randomColor","post","avatar","image","color","date","toLocaleDateString","getHours","getMinutes","likes","text","comments"],"sourceRoot":"","sources":["C:\\Users\\Rustam\\Desktop\\vue-realtime-chat\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <div class=\"home-container\">\r\n    <div v-if=\"loading\" class=\"loader\"></div>\r\n\r\n    <div class=\"tweets-block\">\r\n      <the-tweet\r\n          @load-tweet=\"loadTweets\"\r\n          v-for=\"tweet in allTweets\" :key=\"tweet.id\"\r\n          :tweet=\"tweet\"\r\n          :comments=\"tweet.comments\"\r\n      ></the-tweet>\r\n    </div>\r\n\r\n    <button @click=\"postModal = true\" class=\"btn-make-tweet\">MAKE TWEET</button>\r\n\r\n    <div v-if=\"postModal\" @click=\"postModal = false\" class=\"modal-container\"></div>\r\n      <div v-if=\"postModal\" class=\"post-modal\">\r\n        <div class=\"post-title\">Post new tweet</div>\r\n        <p class=\"error\">fdsfs</p>\r\n        <div class=\"post-text\">\r\n          <textarea v-model=\"tweetText\" rows=\"5\" placeholder=\"Type here...\"></textarea>\r\n        </div>\r\n        <div class=\"post-send-btn\">\r\n          <button @click=\"sendTweet\">TWEET</button>\r\n        </div>\r\n      </div>\r\n    <div style=\"clear: both;\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TheTweet from \"@/components/TheTweet\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"HomeView\",\r\n  components: {TheTweet},\r\n\r\n  data() {\r\n    return {\r\n      allTweets: [],\r\n      postModal: false,\r\n      tweetText: '',\r\n      loading: false,\r\n      errorText: ''\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.loadTweets()\r\n  },\r\n\r\n  methods: {\r\n    loadTweets() {\r\n      this.loading = true;\r\n      try {\r\n        axios\r\n            .get('https://vue-mini-twitter-default-rtdb.firebaseio.com/tweets.json')\r\n            .then((res) => {\r\n              this.loading = false;\r\n              this.allTweets = Object.keys(res.data).map(key => {\r\n                return {\r\n                  id: key,\r\n                  ...res.data[key]\r\n                }\r\n              })\r\n            })\r\n\r\n      } catch (e) {\r\n        this.loading = false;\r\n        console.log(e);\r\n      }\r\n    },\r\n\r\n    sendTweet() {\r\n      const currentDate = new Date();\r\n\r\n      const background = [\"#F1D900\", \"#3CC3EE\", \"#50D93A\", \"#A864DD\", \"#FF3535\", \"#FF7B1C\", \"#3D3D3D\", \"#2F4FF8\", \"#C27A36\", \"#D9D9D9\"]\r\n      const emojis = [\"emoji-01.png\", \"emoji-02.png\", \"emoji-03.png\", \"emoji-04.png\", \"emoji-05.png\", \"emoji-06.png\", \"emoji-07.png\", \"emoji-08.png\", \"emoji-09.png\", \"emoji-10.png\"]\r\n      const randomImg = Math.floor(Math.random() * emojis.length);\r\n      const randomColor = Math.floor(Math.random() * background.length);\r\n\r\n      if(this.tweetText === '') {\r\n        return this.errorText = 'Please full fill'\r\n      }\r\n\r\n      try {\r\n        axios\r\n            .post('https://vue-mini-twitter-default-rtdb.firebaseio.com/tweets.json', {\r\n              avatar: {\r\n                image: emojis[randomImg],\r\n                color: background[randomColor]\r\n              },\r\n              date: currentDate.toLocaleDateString() + ', ' + currentDate.getHours() + ':' + currentDate.getMinutes(),\r\n              likes: 0,\r\n              text: this.tweetText,\r\n              comments: []\r\n            })\r\n            .then((res) => {\r\n              this.postModal = false;\r\n              this.tweetText = ''\r\n              this.loadTweets()\r\n            })\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.error {\r\n  font-family: Montserrat-Regular;\r\n  font-size: 1rem;\r\n  color: red;\r\n  text-align: center;\r\n}\r\n\r\n.loader {\r\n  margin: 0 auto;\r\n  transform: translate(-50%, -50%);\r\n  border: 10px solid #dadada;\r\n  border-radius: 50%;\r\n  border-top: 10px solid #2f2f2f;\r\n  width: 50px;\r\n  height: 50px;\r\n  -webkit-animation: spin 2s linear infinite; /* Safari */\r\n  animation: spin 2s linear infinite;\r\n}\r\n\r\n@-webkit-keyframes spin {\r\n  0% { -webkit-transform: rotate(0deg); }\r\n  100% { -webkit-transform: rotate(360deg); }\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.home-container {\r\n  margin-top: 30px;\r\n}\r\n\r\n.btn-make-tweet {\r\n  position: fixed;\r\n  bottom: 100px;\r\n  width: 720px;\r\n  height: 70px;\r\n  box-shadow: 0 10px 20px #96D9F9;\r\n  border-radius: 20px;\r\n  border: none;\r\n  background-color: #00B2FF;\r\n  color: white;\r\n  font-family: Montserrat-SemiBold;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.tweets-block {\r\n  margin-bottom: 200px;\r\n}\r\n\r\n.nav-link a {\r\n  color: black;\r\n  text-decoration: none;\r\n  margin: 0 10px;\r\n  font-family: Montserrat-Regular;\r\n  font-size: 1rem;\r\n}\r\n\r\n.nav-link p {\r\n  font-family: Montserrat-Regular;\r\n  font-size: 16px;\r\n  opacity: 0.5;\r\n}\r\n\r\n.modal-container {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, .5);\r\n}\r\n\r\n.post-modal {\r\n  border-radius: 30px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 720px;\r\n  padding: 40px;\r\n  background-color: white;\r\n}\r\n\r\n.post-title {\r\n  text-align: center;\r\n  font-family: Montserrat-SemiBold;\r\n  font-size: 24px;\r\n}\r\n\r\n.post-text {\r\n  width: 95%;\r\n}\r\n\r\n.post-text textarea {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n  resize: none;\r\n  padding: 16px;\r\n  font-family: Montserrat-Regular;\r\n  font-size: 1rem;\r\n  border-radius: 18px;\r\n  background-color: #f2f2f5;\r\n  outline: none;\r\n  border: none;\r\n}\r\n\r\n.post-send-btn button {\r\n  width: 100%;\r\n  height: 62px;\r\n  border-radius: 14px;\r\n  border: none;\r\n  background-color: #00B2FF;\r\n  font-family: Montserrat-SemiBold;\r\n  font-size: 1rem;\r\n  color: white;\r\n  cursor: pointer;\r\n  box-shadow: 0 10px 20px #96D9F9;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}